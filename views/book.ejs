<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<title>VoyageMate
	</title>
	<link rel="Shortcut Icon" type="x-icon" href="train.ico">
	<!-- <link rel="stylesheet" href="style_home.css" /> -->
	<!-- Font Awesome Cdn Link -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />

	<style>
		@import url('https://fonts.googleapis.com/css?family=Poppins: 200,300,400,500,600,700,800,900&display=swap');

		* {
			margin: 0;
			padding: 0;
			outline: none;
			border: none;
			text-decoration: none;
			box-sizing: border-box;
			font-family: "Poppins", sans-serif;
		}

		body {
			background: #f6f5f7;
		}

		.container {
			display: flex;
			position: fixed;
		}

		nav {
			position: relative;
			top: 0;
			bottom: 0;
			height: 100vh;
			left: 0;
			background: #ffffff;
			width: 250px;
			overflow: hidden;
			box-shadow: 0 20px 35px rgba(0, 0, 0, 0.1);
		}

		.logo {
			text-align: center;
			display: flex;
			margin: 10px 0 0 10px;
		}

		.logo span {
			font-weight: bold;
			font-size: 18px;
			text-transform: uppercase;
			margin-top: 13px;
		}

		a {
			border-bottom: 1px solid blueviolet;

			position: relative;
			color: blueviolet;
			font-size: 14px;
			display: table;
			width: 288px;
			padding: 10px;
			animation: animate 0.35s;
		}

		@keyframes animate {
			from {
				transform: rotateX(90deg);
			}

			to {
				transform: rotateX(0deg);
			}
		}

		ab {
			position: relative;
			color: #333;
			background-color: white;
			font-size: 14px;
			display: table;
			width: 288px;
			padding: 10px;
			cursor: context-menu;
			;
		}

		.fa {
			padding: 20px;
			font-size: 30px;
			width: 50px;
			text-align: center;
			text-decoration: none;
		}

		nav .fas {
			position: relative;
			width: 70px;
			height: 40px;
			top: 10px;
			font-size: 20px;
			text-align: center;
		}

		.nav-item {
			position: relative;
			top: 8px;
			margin-left: 10px;
		}

		a:hover {
			background: blueviolet;
			color: white;
			transition: 0.35s ease;
		}

		.logout {
			position: absolute;
			bottom: 0;
		}

		.container2 form {
			box-shadow: rgba(14, 30, 37, 0.12) 0px 2px 4px 0px, rgba(14, 30, 37, 0.32) 0px 2px 16px 0px;
			background-color: white;
			border-radius: 50px solid;
			position: absolute;
			width: 600px;
			left: 600px;
			top: 60px;
			align-items: center;
			text-align: center;
		}

		.container2 input {
			background-color: #f6f5f7;
			height: 30px;
			font-size: medium;
			border: 0.1px solid black;
			text-align: center;
		}

		.ocard {
			position: absolute;
			top: 300px;
			left: 500px;
		}

		.icard {
			background-color: white;
			width: 800px;
			height: 180px;
			box-shadow: rgba(0, 0, 0, 0.12) 0px 1px 3px, rgba(0, 0, 0, 0.24) 0px 1px 2px;

			margin-bottom: 10px;
			border-radius: 10px;
		}

		.ocard1 {
			box-shadow: rgba(0, 0, 0, 0.3) 0px 19px 38px, rgba(0, 0, 0, 0.22) 0px 15px 12px;
			position: absolute;
			border-radius: 10px;
			background-color: cyan;
			color: black;
			top: 100px;
			left: 650px;
			display: none;
			height: 500px;
			width: 500px;
			position: fixed;
			padding: 20px;
		}

		.ocard2 {
			box-shadow: rgba(0, 0, 0, 0.3) 0px 19px 38px, rgba(0, 0, 0, 0.22) 0px 15px 12px;
			position: absolute;
			border-radius: 10px;
			background-color: cyan;
			color: black;
			top: 100px;
			left: 550px;
			display: none;
			height: fit-content;
			width: 700px;
			position: fixed;
			padding: 20px;
		}

		table td th {
			border: 2px solid black;
			border-collapse: collapse;
		}

		.passengerDetails {
			text-align: center;
			width: 100px;
			height: 40px;
			font-size: large;
			font-weight: bold;
			background-color: black;
			color: white;
			position: relative;
			left: 180px;
			top: 60px;
			border-radius: 10px;
			cursor: pointer;
		}

		.pdf {
			text-align: center;
			width: 150px;
			padding: 10px;
			font-weight: bold;
			font-size: large;
			background-color: black;
			color: white;
			position: relative;
			left: 250px;
			border-radius: 10px;
			cursor: pointer;
		}

		.ocard2 input {
			background-color: #f6f5f7;
			height: 30px;
			font-size: medium;
			border: 0.1px solid black;
			text-align: center;

		}

		.del {
			background-color: black;
			color: white;
			width: fit-content;
			text-align: center;
			padding: 2px 6px;
			border-radius: 3px;
			position: relative;
			left: 630px;
			top: -30px;
			cursor: pointer;
		}
		.tdata{
			display: none;
		}
		.blockT{
			text-align: center;
			position: relative;
			left: 16.5%;
			cursor: pointer;
			top: 100px;
			text-decoration: underline;
			background-color: cyan;
			font-size: large;
		}
		.blockT:hover{
			color: white;
		}
		#blockT{
			display: None;
		}
	</style>
</head>

<body>
	<div class="container">
		<nav>
			<ul>
				<li style="width: 100%;margin-top: -10px;margin-left: -10px;">
					<ab href="/index" class="logo">
						<!-- <img src="train.ico" alt="" > -->
						<span class="nav-item"
                            style="color: blueviolet;font-size: 35px;padding-left: 20px;margin-top:-5px ;padding-bottom: 5px;text-transform: none;">VoyageMate</span>
					</ab>
				</li>
				<li><a href="/dashboard" style="border-top: 1px solid black;">
						<i class="fas fa-home"></i>
						<span class="nav-item">Home</span>
					</a></li>
				<li><a href="/profile">
						<i class="fas fa-user"></i>
						<span class="nav-item">Profile</span>
					</a></li>
				<li><a href="/status2">
						<i class="fas fa-map-marker-alt"></i>
						<span class="nav-item">Live Running Status</span>
					</a></li>
				<li><a href="/book" style="background-color: blueviolet; color: white;">
						<i class="fas fa-ticket"></i>
						<span class="nav-item">Book Ticket</span>
					</a></li>
				<li><a href="/pnr">
						<i class="fas fa-train"></i>
						<span class="nav-item">Check PNR status</span>
					</a></li>
				<li><a href="/history">
						<i class="fas fa-clock"></i>
						<span class="nav-item">Travel History</span>
					</a></li>
				<li><a href="/help">
						<i class="fas fa-question-circle"></i>
						<span class="nav-item">Help</span>
					</a></li>
				<li><a href="/" class="logout">
						<i class="fas fa-sign-out-alt"></i>
						<span class="nav-item">Logout</span>
					</a></li>
			</ul>
		</nav>
	</div>

	<div class="container2">
		<form action="/book" method="post" id="cform">

			<div style="background-color: blueviolet;color: white;height: 40px;padding-top: 10px;">
				<p style="text-align: center;">BOOK TICKET</p>
			</div>
			<br> <input type="text" name="src" placeholder="Enter Source" required>&nbsp&nbsp
			<i class="fa-solid fa-arrow-right-long"></i>
			&nbsp&nbsp
			<input type="text" name="dst" placeholder="Enter Destination" required>
			<br>
			<br> <input type="date" name="date" placeholder="Enter Date" required>
			<!-- <p name="time" value="1234">Enter Time</p> -->
			<br>
			<button type="submit"
				style="margin: 20px;background-color: blueviolet;color: white;border: none;padding:5px 10px;cursor: pointer;">Check
				Trains</button>
		</form>
	</div>
	<%if(data){%>
		<div class="ocard">
			<%i=0%>
				<% data.forEach(function(i) {%>
					<% if (i.run_days.includes(day)){%>
						
							<div class="icard">
								<p
									style="background-color: blueviolet;color:white;font-weight: bold;border-radius: 9px 9px 0px 0px;">
									&nbsp Train Number: <span>
										<%=i.train_number%>
									</span>

									<i class="fa-sharp fa-solid fa-ticket"
										style="position: relative;right: -590px;"></i>
									<i class="fa-regular fa-calendar-days"
										style="position: relative;right: -540px;"></i>
									<i class="fa-solid fa-train-subway" style="position: relative;right: -490px;"></i>
								</p>
								<p id="name"> &nbsp Train Name: <span>
										<%=i.train_name%>
									</span><span style="position: absolute;right:10px">
										<%=date%>
									</span>
								</p>
								<h3 style="text-align: center;"><span style="color: grey;font-family: consolas;">
										<%=i.train_origin_station_code%>----------
									</span>
									<span style="color: black;background-color: yellow;padding: 1px 4px;">
										<%=src%>
									</span>
									<i class="fa-solid fa-arrow-right-long"></i>
									<span style="color: black;background-color: yellow;padding: 1px 4px;">
										<%=dst%>
									</span>

									<span style="color: grey;font-family: consolas;">----------
										<%=i.train_destination_station_code%>
									</span>
								</h3>
								<p style="margin-bottom: 50px;text-align: center;font-weight: bold;margin-top: 5px;">
									Departure: <span>
										<%=i.depart_time%>
									</span> &emsp; Arrival: <span>
										<%=i.arrival_time%>
									</span>
								</p><br>

								<p style="text-align: center;font-weight: bold;margin-top: -70px;">
									Runs On:
									<% for(var j=0;j< i.run_days.length;j++){%>
										<span style="padding:2px;border: 2px solid black;background-color: cyan;">
											<%=i.run_days[j]%>
										</span>
										<%}%>
								</p>

								<button type="submit"
									style="margin: 20px;background-color: blueviolet;color: white;border: none;padding:5px 10px;cursor: pointer;position: relative;top:-10px;left: 340px;border-radius: 5px;"
									class="openbtn"> <i class="fa-sharp fa-regular fa-calendar-check"></i>&nbsp;
									BOOK</button>
							</div>
							<%}%>
							<%})%>
				<%}%>

		</div>
		<div class="ocard1">
			<h2><span id="trno"></span></h2>
			<h3><span id="trname"></span></h3>
			<p>From: <span id="src"></span></p>
			<p>To: <span id="dst"></span></p>
			<p>Departure: <span id="dept"></span></p>
			<p>Arrival: <span id="arr"></span></p>
			<p>Date: <span id="date"></span></p>
			<br>
			<h3>Ticket Fares:-</h3>
			<div id="fares">
			</div>
			<button class="closebtn1"
				style="position: absolute;right: 20px;top: 30px;display: flex; cursor: pointer;"><i
					class="fa-solid fa-circle-xmark fa-2xl"></i></button>
			<button class="passengerDetails">Book</button>
			<button class="blockT">Block Ticket</button>
		</div>
		<div class="ocard2" id="blockT">
			<p id="blockP"></p><span id="unblock" style="text-decoration: underline;cursor: pointer;"></span>
			<p id="blockP1"></p>
			<button class="closebtn3"
				style="position: absolute;right: 20px;top: 30px;display: flex; cursor: pointer;"><i
					class="fa-solid fa-circle-xmark fa-2xl"></i></button>
		</div>
		<div id="passengerDetails" class="ocard2">
			<h1>Enter Passenger Details</h1>
			<form action="/book" method="post" id="passengerForm">
				
				<div id="passengerContainer">
					<div class="passenger" style="margin-top: 5px;height: 40px;" >
						<input type="text" name="name[]" placeholder="Passenger Name">
						<input type="text" name="age[]" placeholder="Passenger Age">
						<input type="text" name="gender[]" placeholder="Passenger Gender">
						<div class="del"><i class="fa-solid fa-trash"></i></div>
					</div>
				</div>

				<div id="addPassengerBtn" style="background-color: aqua;cursor: pointer;width: fit-content;"><i class="fa-solid fa-plus " style="color: black;"></i> Add Passenger</div>
				<button class="pdf">Pay & Book</button>
			</form>
			<button class="closebtn2"
				style="position: absolute;right: 20px;top: 30px;display: flex; cursor: pointer;"><i
					class="fa-solid fa-circle-xmark fa-2xl"></i></button>
		</div>
</body>

</html>

<!-- <script src="book.js"></script> -->
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.68/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.68/vfs_fonts.js"></script>
<script src="book.js"></script>